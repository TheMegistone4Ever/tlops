from PyQt5.QtWidgets import (QWidget, QVBoxLayout, QTextEdit,
                             QPushButton, QHBoxLayout)


class ResultsTab(QWidget):
    def __init__(self):
        super().__init__()
        self.init_ui()

    def init_ui(self):
        layout = QVBoxLayout(self)

        # Results text area
        self.results_text = QTextEdit()
        self.results_text.setReadOnly(True)
        self.results_text.setFontFamily("Courier")
        stub_text = """Center data (first criteria):
+----------------------------------+-----------+
| Parameter                        | Value     |
+==================================+===========+
| Number of Elements               | 3         |
+----------------------------------+-----------+
| Number of Constraints            | [4, 2, 3] |
+----------------------------------+-----------+
| Number of Decision Variables     | [6, 4, 3] |
+----------------------------------+-----------+
| Number of Aggregated Products    | [5, 4, 2] |
+----------------------------------+-----------+
| Number of Soft Deadline Products | [3, 4, 1] |
+----------------------------------+-----------+


Input data for element 0:
+--------------------------------------------+-------------------------+
| Parameter                                  | Value                   |
+============================================+=========================+
| Element Functional Coefficients            | [1, 3, 6, 6, 5, 5]      |
+--------------------------------------------+-------------------------+
| Center Functional Coefficients for element | [2, 1, 1, 2, 2, 1]      |
+--------------------------------------------+-------------------------+
| Element Aggregated Plan Costs              | [                       |
|                                            |     [1, 4, 3, 4, 3, 4], |
|                                            |     [3, 2, 3, 2, 1, 2], |
|                                            |     [4, 4, 1, 2, 3, 3], |
|                                            |     [1, 3, 3, 4, 4, 4]  |
|                                            | ]                       |
+--------------------------------------------+-------------------------+
| Element Resource Constraints               | [700, 700, 900, 900]    |
+--------------------------------------------+-------------------------+
| Element Aggregated Plan Times              | [1, 2, 1, 2, 1]         |
+--------------------------------------------+-------------------------+
| Element Directive Terms                    | [30, 35, 35, 65, 120]   |
+--------------------------------------------+-------------------------+
| Element Number of Directive Products       | [4, 1, 4, 4, 4]         |
+--------------------------------------------+-------------------------+
| Element Fines for Deadline                 | [9, 6, 4, 1, 2]         |
+--------------------------------------------+-------------------------+
| Element Free Order                         | True                    |
+--------------------------------------------+-------------------------+
| Element Type                               | ElementType.SEQUENTIAL  |
+--------------------------------------------+-------------------------+


Solution for element 0:
+-------------+--------------------------------------+
| Parameter   | Value                                |
+=============+======================================+
| y_e         | [27.0, 27.5, 30.0, 4.0, 152.33, 0.0] |
+-------------+--------------------------------------+
| z_e         | [0.0, 0.0, 0.0, 0.0, 0.0]            |
+-------------+--------------------------------------+
| t_0_e       | [0.0, 65.0, 35.0, 27.0, 120.0]       |
+-------------+--------------------------------------+
| order       | [0, 3, 2, 1, 4]                      |
+-------------+--------------------------------------+

Element 0 quality functionality: 1075.17


Input data for element 1:
+--------------------------------------------+------------------------+
| Parameter                                  | Value                  |
+============================================+========================+
| Element Functional Coefficients            | [3, 4, 8, 9]           |
+--------------------------------------------+------------------------+
| Center Functional Coefficients for element | [2, 1, 2, 2]           |
+--------------------------------------------+------------------------+
| Element Aggregated Plan Costs              | [                      |
|                                            |     [1, 1, 1, 4],      |
|                                            |     [2, 4, 4, 1]       |
|                                            | ]                      |
+--------------------------------------------+------------------------+
| Element Resource Constraints               | [700, 500]             |
+--------------------------------------------+------------------------+
| Element Aggregated Plan Times              | [4, 4, 3, 2]           |
+--------------------------------------------+------------------------+
| Element Directive Terms                    | [70, 70, 100, 105]     |
+--------------------------------------------+------------------------+
| Element Number of Directive Products       | [3, 2, 3, 1]           |
+--------------------------------------------+------------------------+
| Element Fines for Deadline                 | [3, 4, 2, 1]           |
+--------------------------------------------+------------------------+
| Element Free Order                         | False                  |
+--------------------------------------------+------------------------+
| Element Type                               | ElementType.SEQUENTIAL |
+--------------------------------------------+------------------------+


Solution for element 1:
+-------------+---------------------------+
| Parameter   | Value                     |
+=============+===========================+
| y_e         | [3.0, 2.0, 28.33, 166.67] |
+-------------+---------------------------+
| z_e         | [0.0, 0.0, 0.0, 0.0]      |
+-------------+---------------------------+
| t_0_e       | [0.0, 12.0, 20.0, 105.0]  |
+-------------+---------------------------+
| order       | [0, 1, 2, 3]              |
+-------------+---------------------------+

Element 1 quality functionality: 1743.67


Input data for element 2:
+--------------------------------------------+----------------------+
| Parameter                                  | Value                |
+============================================+======================+
| Element Functional Coefficients            | [3, 5, 1]            |
+--------------------------------------------+----------------------+
| Center Functional Coefficients for element | [2, 1, 2]            |
+--------------------------------------------+----------------------+
| Element Aggregated Plan Costs              | [                    |
|                                            |     [2, 4, 1],       |
|                                            |     [2, 4, 2],       |
|                                            |     [2, 3, 1]        |
|                                            | ]                    |
+--------------------------------------------+----------------------+
| Element Resource Constraints               | [900, 700, 600]      |
+--------------------------------------------+----------------------+
| Element Aggregated Plan Times              | [4, 1]               |
+--------------------------------------------+----------------------+
| Element Directive Terms                    | [35, 50]             |
+--------------------------------------------+----------------------+
| Element Number of Directive Products       | [3, 1]               |
+--------------------------------------------+----------------------+
| Element Fines for Deadline                 | [5, 1]               |
+--------------------------------------------+----------------------+
| Element Free Order                         | False                |
+--------------------------------------------+----------------------+
| Element Type                               | ElementType.PARALLEL |
+--------------------------------------------+----------------------+


Solution for element 2:
+-------------+---------------------+
| Parameter   | Value               |
+=============+=====================+
| y_e         | [8.75, 1.0, 339.25] |
+-------------+---------------------+
| z_e         | [0.0, 0.0]          |
+-------------+---------------------+
| t_0_e       | [0.0, 49.0]         |
+-------------+---------------------+
| order       | [0, 1]              |
+-------------+---------------------+

Element 2 quality functionality: 370.5

Center (first criteria) quality functionality: 1519.17


Center data (second criteria):
+----------------------------------+---------------+
| Parameter                        | Value         |
+==================================+===============+
| Number of Elements               | 3             |
+----------------------------------+---------------+
| Number of Constraints            | [4, 2, 3]     |
+----------------------------------+---------------+
| Number of Decision Variables     | [6, 4, 3]     |
+----------------------------------+---------------+
| Number of Aggregated Products    | [5, 4, 2]     |
+----------------------------------+---------------+
| Number of Soft Deadline Products | [3, 4, 1]     |
+----------------------------------+---------------+
| Delta                            | [0.1, 0.3, 1] |
+----------------------------------+---------------+


Input data for element 0:
+--------------------------------------------+-------------------------+
| Parameter                                  | Value                   |
+============================================+=========================+
| Element Functional Coefficients            | [1, 3, 6, 6, 5, 5]      |
+--------------------------------------------+-------------------------+
| Center Functional Coefficients for element | [2, 1, 1, 2, 2, 1]      |
+--------------------------------------------+-------------------------+
| Element Aggregated Plan Costs              | [                       |
|                                            |     [1, 4, 3, 4, 3, 4], |
|                                            |     [3, 2, 3, 2, 1, 2], |
|                                            |     [4, 4, 1, 2, 3, 3], |
|                                            |     [1, 3, 3, 4, 4, 4]  |
|                                            | ]                       |
+--------------------------------------------+-------------------------+
| Element Resource Constraints               | [700, 700, 900, 900]    |
+--------------------------------------------+-------------------------+
| Element Aggregated Plan Times              | [1, 2, 1, 2, 1]         |
+--------------------------------------------+-------------------------+
| Element Directive Terms                    | [30, 35, 35, 65, 120]   |
+--------------------------------------------+-------------------------+
| Element Number of Directive Products       | [4, 1, 4, 4, 4]         |
+--------------------------------------------+-------------------------+
| Element Fines for Deadline                 | [9, 6, 4, 1, 2]         |
+--------------------------------------------+-------------------------+
| Element Free Order                         | True                    |
+--------------------------------------------+-------------------------+
| Element Type                               | ElementType.SEQUENTIAL  |
+--------------------------------------------+-------------------------+


Solution for element 0:
+-------------+---------------------------------------+
| Parameter   | Value                                 |
+=============+=======================================+
| y_e         | [27.0, 9.32, 66.36, 4.0, 140.21, 0.0] |
+-------------+---------------------------------------+
| z_e         | [0.0, 0.0, 0.0, 36.36, 0.0]           |
+-------------+---------------------------------------+
| t_0_e       | [0.0, 101.36, 35.0, 27.0, 120.0]      |
+-------------+---------------------------------------+
| order       | [0, 3, 2, 1, 4]                       |
+-------------+---------------------------------------+

Element 0 quality functionality: 1141.82


Input data for element 1:
+--------------------------------------------+------------------------+
| Parameter                                  | Value                  |
+============================================+========================+
| Element Functional Coefficients            | [3, 4, 8, 9]           |
+--------------------------------------------+------------------------+
| Center Functional Coefficients for element | [2, 1, 2, 2]           |
+--------------------------------------------+------------------------+
| Element Aggregated Plan Costs              | [                      |
|                                            |     [1, 1, 1, 4],      |
|                                            |     [2, 4, 4, 1]       |
|                                            | ]                      |
+--------------------------------------------+------------------------+
| Element Resource Constraints               | [700, 500]             |
+--------------------------------------------+------------------------+
| Element Aggregated Plan Times              | [4, 4, 3, 2]           |
+--------------------------------------------+------------------------+
| Element Directive Terms                    | [70, 70, 100, 105]     |
+--------------------------------------------+------------------------+
| Element Number of Directive Products       | [3, 2, 3, 1]           |
+--------------------------------------------+------------------------+
| Element Fines for Deadline                 | [3, 4, 2, 1]           |
+--------------------------------------------+------------------------+
| Element Free Order                         | False                  |
+--------------------------------------------+------------------------+
| Element Type                               | ElementType.SEQUENTIAL |
+--------------------------------------------+------------------------+


Solution for element 1:
+-------------+---------------------------+
| Parameter   | Value                     |
+=============+===========================+
| y_e         | [3.0, 2.0, 83.27, 152.93] |
+-------------+---------------------------+
| z_e         | [0.0, 0.0, 0.0, 164.8]    |
+-------------+---------------------------+
| t_0_e       | [0.0, 12.0, 20.0, 269.8]  |
+-------------+---------------------------+
| order       | [0, 1, 2, 3]              |
+-------------+---------------------------+

Element 1 quality functionality: 1894.73


Input data for element 2:
+--------------------------------------------+----------------------+
| Parameter                                  | Value                |
+============================================+======================+
| Element Functional Coefficients            | [3, 5, 1]            |
+--------------------------------------------+----------------------+
| Center Functional Coefficients for element | [2, 1, 2]            |
+--------------------------------------------+----------------------+
| Element Aggregated Plan Costs              | [                    |
|                                            |     [2, 4, 1],       |
|                                            |     [2, 4, 2],       |
|                                            |     [2, 3, 1]        |
|                                            | ]                    |
+--------------------------------------------+----------------------+
| Element Resource Constraints               | [900, 700, 600]      |
+--------------------------------------------+----------------------+
| Element Aggregated Plan Times              | [4, 1]               |
+--------------------------------------------+----------------------+
| Element Directive Terms                    | [35, 50]             |
+--------------------------------------------+----------------------+
| Element Number of Directive Products       | [3, 1]               |
+--------------------------------------------+----------------------+
| Element Fines for Deadline                 | [5, 1]               |
+--------------------------------------------+----------------------+
| Element Free Order                         | False                |
+--------------------------------------------+----------------------+
| Element Type                               | ElementType.PARALLEL |
+--------------------------------------------+----------------------+


Solution for element 2:
+-------------+---------------------+
| Parameter   | Value               |
+=============+=====================+
| y_e         | [8.75, 170.62, 0.0] |
+-------------+---------------------+
| z_e         | [0.0, 120.62]       |
+-------------+---------------------+
| t_0_e       | [0.0, 0.0]          |
+-------------+---------------------+
| order       | [0, 1]              |
+-------------+---------------------+

Element 2 quality functionality: 758.75

Center (second criteria) quality functionality: 764.85"""
        self.results_text.setText(stub_text)

        # Buttons layout
        buttons_layout = QHBoxLayout()
        self.copy_button = QPushButton("Copy to Clipboard")
        self.save_button = QPushButton("Save to .txt")

        buttons_layout.addWidget(self.copy_button)
        buttons_layout.addWidget(self.save_button)
        buttons_layout.addStretch()

        layout.addWidget(self.results_text)
        layout.addLayout(buttons_layout)

        # Connect signals
        self.copy_button.clicked.connect(self.copy_to_clipboard)
        self.save_button.clicked.connect(self.save_to_file)

    def copy_to_clipboard(self):
        self.results_text.selectAll()
        self.results_text.copy()
        self.results_text.moveCursor(self.results_text.textCursor().Start)

    def save_to_file(self):
        if self.results_text.toPlainText():
            with open("results.txt", "w") as f:
                f.write(self.results_text.toPlainText())
